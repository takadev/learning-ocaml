# OCaml入門

## コメント
(* *)

## 基本の型
int      32ビットCPUでは31ビット符号付き整数(およそ±10億)、
         64ビットCPUでは63ビット符号付き整数
float    IEEE倍精度浮動小数点数、Cのdoubleと同じ
bool     trueもしくはfalseとなる真偽値
char     8bit文字 'a'
string   文字列 "foo"
unit     ()と書くものCのvoidと似たもの、厳密には違う

## 型変換
OCamlでは暗黙の型変換は一切行われません。

・float_of_int関数
intからfloatへ

・int_of_float関数
floatからintへ

・char_of_int関数
intからcharへ

・int_of_char関数
charからintへ

・string_of_int関数
intからstringへ

・int_of_string関数
stringからintへ


## 四則演算

`+`整数の加算
`-`整数の減算
`*`整数の乗算
`/ `整数の除算
`mod` 整数除算の剰余
`+.` 実数の加算
`-.` 実数の減算
`*.` 実数の乗算
`/.` 実数の除算

```
1 + 2 * 3;;
10 / 2 * 4;;
3.0 +. 2.5;;
5.0 /. 3.0;;
```

●変数宣言
変数(variable)はlet式で宣言します。

```
let 名前 = 式
```

関数型言語の場合、
バインドされた変数は値を書き換えることができません。

```
let a = 10
let b = 2.0
let c = "foo"
```

## 局所変数
局所変数は「有効範囲(スコープ内)」で使用する変数です。
関数の引数が局所変数にあたります。
また、引数以外にも関数内で変数を使用したい場合は局所変数を定義します。

```
let 変数 = 式1 in
```

```
let sum a b c =
  let ab = a + b in
  ab + c;;
```

## 関数定義
OCamlは関数もletで定義します。

```
let 名前 引数 = 式
```

letのあとに名前と引数を書き、
=のあとに式を書きます。

```
(* 関数定義 *)
let mul x y = x * y;;
(* 関数呼び出し *)
mul 2 3;;
```

関数型言語の場合、関数もデータ型の一つです。
letで指定したmulは関数型のデータになります。
OCamlは型推論をするので引数や戻り値に型を指定する必要はありません。
戻り値にreturn文も必要なく関数内の最後の式を戻り値とします。
呼び出しの際の括弧や引数の間のカンマも必要ありません。


## 組(tuple)
OCamlは複数の型を組み合わせて
新しい型を定義することができます。
OCamlの場合、新しい型の定義方法はいくつかあるのですが、
もっとも簡単で重要な方法が
「組(tuple)」です。
組は複数のデータや式をカンマ(,)で区切り、
カッコ( )で囲んで表します。

```
let a = (1, 2)
let b = (10, 20.5)
let c = (1, 2.5, "foo")
let d = (1+2, 3*4)

let (a, b) = (1, 2)
let (a, b) = ((1, 2), 3)
let ((c, d), e) = ((1, 2), 3)
```

## リスト
OCamlのリストは「連結リスト(Linked List)」です。
OCamlのリストは複数のデータを格納することができます。
ただし、リストの要素は同じデータ型でなければいけません。
OCamlのリストは、要素をセミコロン(;)で区切り、
角カッコ[ ]で囲んで表します。

```
let a = [1; 2; 3; 4]
let b = ["abc"; "def"; "ghi"]
let c = [(1, 2); (3, 4); (5, 6)]
let d = [[1]; [2; 3]; [4; 5; 6]]
let e = [1 + 2 + 3; 4 * 5 * 6]
```

